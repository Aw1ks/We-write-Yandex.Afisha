# We-write-Yandex.Afisha
## О чем проект
Сайт с интерактивной картой Москвы на которой отмечены виды активного отдыха с подробными описаниями.
## Переменные окружения
Часть настроек проекта берётся из переменных окружения. Чтобы их определить, создайте файл `.env` рядом с `manage.py` и запишите туда данные в формате: `ПЕРЕМЕННАЯ=значение`.

- DEBUG:

Эта переменная указывает, находится ли приложение в режиме отладки. Если значение DEBUG установлено в True, приложение будет выводить подробные сообщения об ошибках и другую отладочную информацию. В производственной среде это значение должно быть False, чтобы избежать утечек информации о внутренней структуре приложения.

- ALLOWED_HOSTS:

Это список доменных имен и IP-адресов, с которых ваше приложение может принимать запросы. В производственной среде необходимо указывать только те хосты, с которых ваше приложение должно принимать запросы.

- DB_ENGINE:

Эта переменная указывает на тип базы данных, которую вы используете (например, PostgreSQL, MySQL, SQLite и т.д.). Встроенные серверные базы данных в Django:
```
'django.db.backends.postgresql'
'django.db.backends.mysql'
'django.db.backends.sqlite3'
'django.db.backends.oracle'
```
Она определяет, какой драйвер будет использоваться для подключения к базе данных.

- DB_NAME:

Это имя базы данных, к которой ваше приложение будет подключаться. В зависимости от используемого движка базы данных, это может быть имя конкретной базы данных, созданной для вашего приложения.

- SECRET_KEY:

Это строка, используемая для обеспечения безопасности вашего приложения. В Django, например, она используется для операций, таких как создание токенов и шифрование данных.
его можно получуить следуюющим образом:
```
python manage.py shell
>>> from django.core.management.utils import get_random_secret_key
>>> get_random_secret_key()
```

## Как запустить
Данный проект разработан на версии `Python 3.12.5`

### Скачайте данный проект
Чтобы скачать проект с GitHub, вы можете воспользоваться одним из следующих способов:

1. Скачивание ZIP-архива

Перейдите на страницу репозитория на GitHub.
Нажмите на кнопку "Code" в правом верхнем углу.
В выпадающем меню выберите "Download ZIP".
После завершения загрузки распакуйте ZIP-архив на вашем компьютере.

2. Клонирование репозитория с помощью Git
3. 
Если у вас установлен Git, вы можете клонировать репозиторий с помощью командной строки:

Откройте терминал (или командную строку).

Перейдите в директорию, куда вы хотите скачать проект.

Введите команду:
`git clone https://github.com/username/repository.git`
Замените username на имя пользователя владельца репозитория, а repository на название репозитория.

Нажмите Enter, и Git скачает проект на ваш компьютер.

3. Использование GitHub Desktop

Если вы предпочитаете графический интерфейс, вы можете использовать GitHub Desktop:

Установите GitHub Desktop, если он у вас еще не установлен.
Откройте GitHub Desktop и войдите в свою учетную запись GitHub.
Нажмите на "File" (Файл) > "Clone repository" (Клонировать репозиторий).
Выберите репозиторий, который хотите скачать, и нажмите "Clone" (Клонировать).

### Установите зависимости
Что бы проект работал требуется установить зависимости. Это можно сделать с помощью ввода команды:
```
pip install -r requirements.txt
```

### Завершение настойки проекта
- Создайте файл базы данных и сразу примените все миграции командой:
```
python3 manage.py migrate
```
- Создайте и заполните переменные окружения
- Запустите сервер командой:
```
python3 manage.py runserver
```

## Автоматизированное добавление мест
Для того, чтобы добавить новые места, используется скрипт `load_place.py`
Как применять:
```
python manage.py load_place (аргументы)
```
### Аргументы
- -u / --url
Импорт данных о месте по ссылке на JSON-файл. Пример:
```
python manage.py load_place --url https://example.com/place.json
```
- -p / --path
Импорт данных о месте из локального JSON-файла. Пример:
```
python manage.py load_place --path ./data/place.json
```

### Как должен выглядеть JSON-файл
JSON-файл должен содержать следующую структуру:
```
{
  "title": "Название места",
  "description_short": "Краткое описание",
  "description_long": "Полное описание",
  "coordinates": {
    "lat": 55.751244,
    "lng": 37.618423
  },
  "imgs": [
    "https://example.com/image1.jpg",
    "https://example.com/image2.jpg"
  ]
}
```
